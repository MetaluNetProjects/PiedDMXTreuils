#N canvas 53 81 903 662 10;
#X obj 37 70 tgl 15 0 treuil\$1-connected treuil\$1-connected connecté
17 7 0 10 -262144 -1 -1 1 1;
#X obj 371 151 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 37 87 tgl 15 0 treuil\$1-lowswitch treuil\$1-lowswitch au_départ
17 7 0 10 -262144 -1 -1 1 1;
#X floatatom 458 552 5 0 0 0 - - -;
#X msg 421 652 dest \$1;
#X obj 371 128 route present;
#X obj 271 379 route 10;
#X obj 166 61 nbx 6 14 -1e+37 1e+37 0 0 treuil\$1-pos treuil\$1-pos
position 0 -6 0 10 -262144 -1 -1 0 256;
#X msg 160 642 WRITE;
#X text 158 628 eeprom;
#X obj 166 89 nbx 5 14 -1e+37 1e+37 0 0 treuil\$1-dest treuil\$1-dest
destination 0 -6 0 10 -262144 -1 -1 0 256;
#X msg 31 615 c 120 c 4 i \$1;
#X floatatom 31 591 5 0 0 0 - - -;
#X obj 556 149 nbx 5 14 -1e+37 1e+37 0 0 treuil\$1-ramppos treuil\$1-ramppos
ramp_position 0 -6 0 10 -262144 -1 -1 0 256;
#X obj 109 77 nbx 5 14 -1e+37 1e+37 0 0 treuil\$1-pwm treuil\$1-pwm
PWM 0 -6 0 10 -262144 -1 -1 0 256;
#N canvas 269 454 303 236 16bits 0;
#X obj 80 43 * 256;
#X obj 80 64 +, f 9;
#X obj 80 158 outlet;
#X obj 80 17 inlet;
#X obj 131 17 inlet;
#X obj 80 86 moses 32767;
#X obj 143 127 - 65536;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 3 0 0 0;
#X connect 4 0 1 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 2 0;
#X restore 448 427 pd 16bits;
#N canvas 1 189 303 236 16bits 0;
#X obj 80 43 * 256;
#X obj 80 64 +, f 9;
#X obj 80 158 outlet;
#X obj 80 17 inlet;
#X obj 131 17 inlet;
#X obj 80 86 moses 32767;
#X obj 143 127 - 65536;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 3 0 0 0;
#X connect 4 0 1 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 2 0;
#X restore 538 426 pd 16bits;
#X obj 35 565 hsl 128 15 -1023 1023 0 0 empty empty empty -2 -8 0 10
-262144 -1 -1 0 1;
#X msg 34 541 0;
#X obj 480 138 print;
#N canvas 269 454 303 236 16bits 0;
#X obj 80 43 * 256;
#X obj 80 64 +, f 9;
#X obj 80 158 outlet;
#X obj 80 17 inlet;
#X obj 131 17 inlet;
#X obj 80 86 moses 32767;
#X obj 143 127 - 65536;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 3 0 0 0;
#X connect 4 0 1 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 2 0;
#X restore 271 425 pd 16bits;
#X msg 432 379 set -1;
#X obj 404 443 == 0;
#X obj 230 500 == 0;
#X obj 325 442 change -1;
#X obj 388 425 change -1;
#X obj 373 662 print;
#X obj 238 61 bng 15 250 50 0 treuil\$1-rewind treuil\$1-rewind rewind
-5 -5 0 10 -257985 -1 -1;
#X obj 238 88 bng 15 250 50 0 treuil\$1-stop treuil\$1-stop stop -5
-5 0 10 -258113 -1 -1;
#X obj 577 635 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 206 478 5 0 0 0 - - -;
#X obj 271 400 unpack f f f f f f f f f, f 60;
#X floatatom 632 426 5 0 0 0 - - -;
#X msg 112 720 L\$1;
#X obj 103 698 tgl 16 0 empty empty empty 0 -8 0 10 -262144 -1 -1 0
1;
#X obj 29 142 fruit/fruit 1 treuil\$1 \$2 fwTreuil;
#X obj 371 107 fruit/receive treuil\$1;
#X obj 27 202 dcmotor/motor treuil\$1 120 motor;
#X obj 28 425 s treuil\$1-motor-posPid-params;
#X obj 28 381 s treuil\$1-motor-ramp-params;
#X obj 371 171 s treuil\$1-connected;
#X obj 271 358 fruit/receive treuil\$1;
#X obj 432 357 r treuil\$1-connected;
#X obj 421 630 r treuil\$1-dest;
#X obj 31 665 fruit/send2 treuil\$1;
#X obj 458 573 s treuil\$1-dest;
#X obj 68 541 r treuil\$1-setpwm;
#X obj 538 446 s treuil\$1-ramppos;
#X obj 448 445 s treuil\$1-pwm;
#X obj 388 463 s treuil\$1-highswitch;
#X obj 325 483 s treuil\$1-lowswitch;
#X obj 271 499 s treuil\$1-pos;
#X obj 618 63 sel 1;
#X msg 683 110 0 \, 1;
#X msg 683 131 homed \$1;
#X msg 637 121 0;
#X obj 648 226 route \$1 -1;
#X obj 648 253 b;
#X msg 651 361 -1023;
#X obj 761 224 route \$1 -1;
#X obj 761 251 b;
#X msg 761 360 0;
#X msg 602 274 1;
#X obj 802 372 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 618 20 r treuil\$1-lowswitch;
#X obj 683 153 s treuil\$1-motor-params;
#X obj 637 173 s treuil\$1-dest;
#X obj 628 194 r TREUIL_REWIND;
#X obj 648 275 s treuil\$1-rewind;
#X obj 761 275 s treuil\$1-stop;
#X obj 750 194 r TREUIL_STOP;
#X obj 651 339 r treuil\$1-rewind;
#X obj 761 339 r treuil\$1-stop;
#X obj 651 382 s treuil\$1-setpwm;
#X obj 421 674 s treuil\$1-motor-ramp-params;
#X text 352 43 1 tour = 800 pas;
#X obj 618 41 change;
#X text 42 20 treuil NUM_TREUIL ID_FRUIT;
#X msg 28 403 gainP 30 \, gainI 1 \, gainD 0 \, max 1023;
#X obj 185 559 r \$0-hwreset;
#X obj 531 101 s \$0-hwreset;
#X obj 618 84 t b b b;
#X msg 185 587 c 120 c 6 c \$1;
#X msg 531 78 1;
#X msg 497 56 0;
#X msg 18 453 speed 9000 \, accel 32000 \, decel 32000;
#X msg 28 358 speed 128 \, accel 128 \, decel 128;
#X msg 802 402 666;
#X floatatom 802 423 5 0 0 0 - - -;
#X obj 784 57 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 784 87 666;
#X floatatom 784 108 5 0 0 0 - - -;
#X obj 271 462 / 16;
#X msg 590 360 1023;
#X connect 1 0 40 0;
#X connect 3 0 45 0;
#X connect 4 0 29 0;
#X connect 4 0 74 0;
#X connect 5 0 1 0;
#X connect 6 0 31 0;
#X connect 8 0 44 1;
#X connect 11 0 44 0;
#X connect 12 0 11 0;
#X connect 15 0 48 0;
#X connect 16 0 47 0;
#X connect 17 0 12 0;
#X connect 18 0 17 0;
#X connect 20 0 92 0;
#X connect 21 0 24 0;
#X connect 21 0 25 0;
#X connect 24 0 50 0;
#X connect 25 0 49 0;
#X connect 31 0 20 0;
#X connect 31 1 20 1;
#X connect 31 2 24 0;
#X connect 31 3 25 0;
#X connect 31 4 15 0;
#X connect 31 5 15 1;
#X connect 31 6 16 0;
#X connect 31 7 16 1;
#X connect 31 8 32 0;
#X connect 33 0 44 1;
#X connect 34 0 33 0;
#X connect 36 0 5 0;
#X connect 41 0 6 0;
#X connect 42 0 21 0;
#X connect 43 0 4 0;
#X connect 46 0 17 0;
#X connect 52 0 81 0;
#X connect 53 0 54 0;
#X connect 54 0 65 0;
#X connect 55 0 66 0;
#X connect 56 0 57 0;
#X connect 56 1 57 0;
#X connect 57 0 68 0;
#X connect 58 0 73 0;
#X connect 59 0 60 0;
#X connect 59 1 60 0;
#X connect 60 0 69 0;
#X connect 61 0 73 0;
#X connect 63 0 87 0;
#X connect 64 0 76 0;
#X connect 67 0 62 0;
#X connect 67 0 57 0;
#X connect 70 0 60 0;
#X connect 71 0 58 0;
#X connect 72 0 61 0;
#X connect 72 0 63 0;
#X connect 76 0 52 0;
#X connect 78 0 38 0;
#X connect 79 0 82 0;
#X connect 81 0 83 0;
#X connect 81 1 55 0;
#X connect 81 2 53 0;
#X connect 81 2 89 0;
#X connect 82 0 44 0;
#X connect 83 0 80 0;
#X connect 84 0 80 0;
#X connect 86 0 39 0;
#X connect 87 0 88 0;
#X connect 89 0 90 0;
#X connect 90 0 91 0;
#X connect 92 0 51 0;
#X connect 93 0 73 0;
#X coords 0 -1 1 1 240 60 1 30 45;
